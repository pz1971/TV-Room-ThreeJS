<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="three.js"></script>
		<script>
			const scene = new THREE.Scene();
			scene.background = new THREE.Color( 0xffffff );
			const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.z = 15;

			const renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			const render = () => {
				renderer.render( scene, camera );
			}


            const create_room = () =>{

                const geometry = new THREE.BoxGeometry( 30, 30, 30 );
				
			    const material = new THREE.MeshMatcapMaterial(  {map: new THREE.TextureLoader().load('./wall.jpg', render)} );
				material.side = THREE.BackSide; 
			    const room = new THREE.Mesh( geometry, material );
				room.position.z = 5
                return room
            }
			

            const room = create_room()
			room.castShadow = true
			scene.add(room)

			render()
			
			document.onkeydown = (e) => {
				e = e || window.event
				if (e.keyCode == '38') {
					// up arrow
					var direction = new THREE.Vector3();
					camera.getWorldDirection( direction );
					distance = 0.1;
					camera.position.add( direction.multiplyScalar(distance) );
				}
				else if (e.keyCode == '40') {
					// down arrow
					var direction = new THREE.Vector3();
					camera.getWorldDirection( direction );
					distance = -0.1;
					camera.position.add( direction.multiplyScalar(distance) );
				}
				else if (e.keyCode == '37') {
				// left arrow
					camera.rotation.y += 0.1
				}
				else if (e.keyCode == '39') {
					// right arrow
					camera.rotation.y -= 0.1
				}
				renderer.render( scene, camera );
			}
			
			
			
		</script>
	</body>
</html>